!(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),(t.Cocoen=e());}})(function(){return(function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var d=new Error("Cannot find module '"+o+"'");throw((d.code="MODULE_NOT_FOUND"),d);}
var h=(n[o]={exports:{}});t[o][0].call(h.exports,function(e){var n=t[o][1][e];return s(n?n:e);},h,h.exports,e,t,n,i);}
return n[o].exports;}
for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s;})({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}
var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);}
return e;},r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];(i.enumerable=i.enumerable||!1),(i.configurable=!0),"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i);}}
return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t;};})(),o=(function(){function e(t,n){i(this,e),(this.options=s({},e.defaults,n)),(this.element=t||document.querySelector(".cocoen")),this.init();}
return(r(e,[{key:"init",value:function(){this.lazyLoadProtection(),this.createElements(),this.addEventListeners(),this.dimensions();},},{key:"lazyLoadProtection",value:function(){var objImages=jQuery(this.element).find('img');objImages.each(function(){var objImage=jQuery(this);var loadingAttr=objImage.attr('loading');if(loadingAttr==undefined||loadingAttr==false||loadingAttr=='lazy')
return(true);objImage.removeAttr('loading');})},},{key:"createElements",value:function(){var e=document.createElement("span");(e.className=this.options.dragElementSelector.replace(".","")),this.element.appendChild(e);if(this.element.querySelector("img:first-child"))
this.defineElements("img:first-child")
if(this.element.querySelector("picture:first-child"))
this.defineElements("picture:first-child")},},{key:"defineElements",value:function(firstChildElem){var t=document.createElement("div"),n=this.element.querySelector(firstChildElem);t.appendChild(n.cloneNode(!0)),n.parentNode.replaceChild(t,n),(this.dragElement=this.element.querySelector(this.options.dragElementSelector)),(this.beforeElement=this.element.querySelector("div:first-child")),(this.beforeImage=this.beforeElement.querySelector("img"));(this.labelBefore=this.element.querySelector(".cocoen-label-before"));(this.labelAfter=this.element.querySelector(".cocoen-label-after"));},},{key:"addEventListeners",value:function(){var cocoen=this;this.element.addEventListener("click",this.onTap.bind(this)),this.element.addEventListener("mouseover",this.onMouseover.bind(this)),this.element.addEventListener("mousemove",this.onMousemove.bind(this)),this.element.addEventListener("mouseleave",this.onMouseleave.bind(this)),this.element.addEventListener("touchmove",this.onTouchDrag.bind(this)),this.dragElement.addEventListener("mousedown",this.onMouseDragStart.bind(this)),this.dragElement.addEventListener("touchstart",this.onTouchDragStart.bind(this)),this.dragElement.addEventListener("touchend",this.onDragEnd.bind(this)),window.addEventListener("mouseup",this.onDragEnd.bind(this)),window.addEventListener("resize",this.dimensions.bind(this)),jQuery(this.element).on("delayed_start",this.dimensions.bind(this)),jQuery(this.labelBefore).on("click",this.onBeforeLabelClick.bind(this)),jQuery(this.labelAfter).on("click",this.onAfterLabelClick.bind(this));jQuery(".nav-tabs .nav-item .nav-link").on("click",function(){setTimeout(cocoen.dimensions.bind(cocoen),400)});},},{key:"dimensions",value:function(){(this.elementWidth=parseInt(window.getComputedStyle(this.element).width,10)),(this.elementHeight=parseInt(window.getComputedStyle(this.element).height,10)),(this.elementOffsetLeft=this.element.getBoundingClientRect().left+document.body.scrollLeft),(this.elementOffsetTop=window.pageYOffset+this.element.getBoundingClientRect().top+document.body.scrollTop),(this.beforeImage.style.width=this.elementWidth+"px"),(this.dragElementWidth=parseInt(window.getComputedStyle(this.dragElement).width,10)),(this.dragElementHeight=parseInt(window.getComputedStyle(this.dragElement).height,10)),(this.minLeftPos=this.elementOffsetLeft),(this.minTopPos=this.elementOffsetTop),(this.maxLeftPos=this.elementOffsetLeft+this.elementWidth-this.dragElementWidth);(this.maxTopPos=this.elementOffsetTop+this.elementHeight-this.dragElementHeight);(this.startX=0);(this.startY=0);(this.isOverElement=false);},},{key:"onBeforeLabelClick",value:function(e){var objDevider=jQuery(this.dragElement);var objBeforeElement=jQuery(this.beforeElement);objDevider.css("transition","all .3s");objBeforeElement.css("transition","all .3s");if(this.options.direction=='horizontal')
this.leftPos=this.maxLeftPos,this.requestDrag();if(this.options.direction=='vertical')
this.topPos=this.maxTopPos,this.requestDrag();setTimeout(function(){objDevider.css("transition","");objBeforeElement.css("transition","");},400);},},{key:"onAfterLabelClick",value:function(e){var objDevider=jQuery(this.dragElement);var objBeforeElement=jQuery(this.beforeElement);objDevider.css("transition","all .3s");objBeforeElement.css("transition","all .3s");if(this.options.direction=='horizontal')
this.leftPos=this.minLeftPos,this.requestDrag();if(this.options.direction=='vertical')
this.topPos=this.minTopPos,this.requestDrag();setTimeout(function(){objDevider.css("transition","");objBeforeElement.css("transition","");},400);},},{key:"onMouseover",value:function(e){if(this.options.trigger=="hover"&&this.isOverElement==false){if(this.options.direction=='horizontal')
(this.leftPos=e.pageX?e.pageX:e.touches[0].pageX),this.requestDrag();if(this.options.direction=='vertical')
(this.topPos=e.pageY?e.pageY:e.touches[0].pageY),this.requestDrag();this.isOverElement=true;}},},{key:"onMousemove",value:function(e){if(this.options.trigger=="hover"){if(this.options.direction=='horizontal')
(this.leftPos=e.pageX?e.pageX:e.touches[0].pageX),this.requestDrag();if(this.options.direction=='vertical')
(this.topPos=e.pageY?e.pageY:e.touches[0].pageY),this.requestDrag();}else{this.onMouseDrag(e);}},},{key:"onMouseleave",value:function(e){if(this.options.trigger=="hover"){this.startX=0;this.startY=0;this.isDragging=!1
this.isOverElement=false}},},{key:"onTap",value:function(e){e.preventDefault();if(jQuery(e.target).hasClass("cocoen-label-before")==true)
return(true);if(jQuery(e.target).hasClass("cocoen-label-after")==true)
return(true);if(this.options.direction=='horizontal')
(this.leftPos=e.pageX?e.pageX:e.touches[0].pageX),this.requestDrag();if(this.options.direction=='vertical')
(this.topPos=e.pageY?e.pageY:e.touches[0].pageY),this.requestDrag();},},{key:"onTouchDragStart",value:function(e){if(e.touches==undefined){return;}
this.startX=e.touches[0].pageX;this.startY=e.touches[0].pageY;e.preventDefault();if(this.options.direction=='horizontal'){var t=e.pageX?e.pageX:e.touches[0].pageX,n=this.dragElement.getBoundingClientRect().left+document.body.scrollLeft;(this.posX=n+this.dragElementWidth-t),(this.isDragging=!0);}
if(this.options.direction=='vertical'){var startY=e.pageY?e.pageY:e.touches[0].pageY;var dragElementTopPosition=window.pageYOffset+this.dragElement.getBoundingClientRect().top+document.body.scrollTop;(this.posY=dragElementTopPosition+this.dragElementHeight-startY),(this.isDragging=!0);}
var objBeforeLabel=jQuery(this.labelBefore);var objAfterLabel=jQuery(this.labelAfter);if(objBeforeLabel&&objBeforeLabel.length)
objBeforeLabel.css("opacity",0);if(objAfterLabel&&objAfterLabel.length)
objAfterLabel.css("opacity",0);},},{key:"onMouseDragStart",value:function(e){e.preventDefault();if(this.options.direction=='horizontal'){var t=e.pageX?e.pageX:e.touches[0].pageX,n=this.dragElement.getBoundingClientRect().left+document.body.scrollLeft;(this.posX=n+this.dragElementWidth-t),(this.isDragging=!0);}
if(this.options.direction=='vertical'){var startY=e.pageY?e.pageY:e.touches[0].pageY;var dragElementTopPosition=window.pageYOffset+this.dragElement.getBoundingClientRect().top+document.body.scrollTop;(this.posY=dragElementTopPosition+this.dragElementHeight-startY),(this.isDragging=!0);}
var objBeforeLabel=jQuery(this.labelBefore);var objAfterLabel=jQuery(this.labelAfter);if(objBeforeLabel&&objBeforeLabel.length)
objBeforeLabel.css("opacity",0);if(objAfterLabel&&objAfterLabel.length)
objAfterLabel.css("opacity",0);},},{key:"onDragEnd",value:function(e){this.startX=0;this.startY=0;e.preventDefault(),(this.isDragging=!1);var objBeforeLabel=jQuery(this.labelBefore);var objAfterLabel=jQuery(this.labelAfter);if(objBeforeLabel&&objBeforeLabel.length)
objBeforeLabel.css("opacity","");if(objAfterLabel&&objAfterLabel.length)
objAfterLabel.css("opacity","");},},{key:"onTouchDrag",value:function(e){if(e.touches==undefined){return;}
var deltaX=Math.abs((e.touches[0].pageX-this.startX)/e.touches[0].pageX);var deltaY=Math.abs((e.touches[0].pageY-this.startY)/e.touches[0].pageY);e.preventDefault();if(this.options.direction=='horizontal'){if((deltaX/deltaY)>1&&e.cancelable)
this.isDragging&&((this.moveX=e.pageX?e.pageX:e.touches[0].pageX),(this.leftPos=this.moveX+this.posX-this.dragElementWidth),this.requestDrag());}
if(this.options.direction=='vertical'){if((deltaX/deltaY)<1&&e.cancelable)
this.isDragging&&((this.moveY=e.pageY?e.pageY:e.touches[0].pageY),(this.topPos=this.moveY+this.posY-this.dragElementHeight),this.requestDrag());}},},{key:"onMouseDrag",value:function(e){e.preventDefault();if(this.options.direction=='horizontal')
this.isDragging&&((this.moveX=e.pageX?e.pageX:e.touches[0].pageX),(this.leftPos=this.moveX+this.posX-this.dragElementWidth),this.requestDrag());if(this.options.direction=='vertical')
this.isDragging&&((this.moveY=e.pageY?e.pageY:e.touches[0].pageY),(this.topPos=this.moveY+this.posY-this.dragElementHeight),this.requestDrag());},},{key:"drag",value:function(){if(this.options.direction=='horizontal'){this.leftPos<this.minLeftPos?(this.leftPos=this.minLeftPos):this.leftPos>this.maxLeftPos&&(this.leftPos=this.maxLeftPos);var e=this.leftPos+this.dragElementWidth/2-this.elementOffsetLeft;e/=this.elementWidth;var t=100*e+"%";(this.dragElement.style.left=t),(this.beforeElement.style.width=t),this.options.dragCallback&&this.options.dragCallback(e);}
if(this.options.direction=='vertical'){this.topPos<this.minTopPos?(this.topPos=this.minTopPos):this.topPos>this.maxTopPos&&(this.topPos=this.maxTopPos);var relativeTopPos=this.topPos+this.dragElementHeight/2-this.elementOffsetTop;relativeTopPos/=this.elementHeight;var relativeTopPosPercents=100*relativeTopPos+"%";(this.dragElement.style.top=relativeTopPosPercents),(this.beforeElement.style.height=relativeTopPosPercents),this.options.dragCallback&&this.options.dragCallback(e);}},},{key:"requestDrag",value:function(){window.requestAnimationFrame(this.drag.bind(this));},},]),e);})();(o.defaults={dragElementSelector:".cocoen-drag",dragCallback:null,direction:'vertical',trigger:"click"}),(t.exports=o);},{},],},{},[1])(1);});